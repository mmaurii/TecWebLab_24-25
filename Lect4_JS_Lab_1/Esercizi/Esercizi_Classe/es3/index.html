<!DOCTYPE html>
<html>
    <head>
        <title>Lab4: Esercizi Base Javascript</title>
        <script type="text/javascript" src="Es3_Timer.js">
            //Inserire elementi JS
            
            /* Come al solito, sarebbe preferibile utilizzare
            file esterni, per avere un maggiore controllo: 
            e.g. <script type="text/javascript" src="percorso/al/tuo/script.js"> */
        </script>
    </head>
    <body>
        <h1>Prove Javascript</h1>
        <p id="para1">Un paragrafo di prova.</p>
        <h1>Test</h1>
        <button type="button" onclick="onclick_fn()">Clicca qui</button>
    </body>
    <script>
        //Inserire elementi JS
        
        /* Come al solito, sarebbe preferibile utilizzare
        file esterni, per avere un maggiore controllo: 
        e.g. <script type="text/javascript" src="percorso/al/tuo/script.js"> */
        let onclick_fn = () => {
            var button = document.getElementsByTagName("button")[0];
            button.disabled = true;
            let para = document.getElementById("para1");
            var max_sec = sec = 10;
            para.textContent = 0;

            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    para.textContent = i;
                    console.log(i);
                }, i * 1000);
            };/*
            var timer = setInterval(() => {
                para.textContent = max_sec -(--sec)
                if (sec <= 0) {
                    clearInterval(timer);
                    button.disabled = false;
                }
            }, 1000);*/  

            // Riabilita il pulsante dopo 10 secondi (10000 ms)
            setTimeout(() => {
                button.disabled = false;
            }, 10 * 1000);        
        };
    </script>
</html>